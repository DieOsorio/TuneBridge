import{j as e}from"./mui-DM0ppf3M.js";import{r as i}from"./calendar-BpW-aEGs.js";import{c as h,n as j,I as b,u as f,J as y,E as A}from"./index-p55ST7R3.js";import{A as N,a as k}from"./AdsListSkeleton-DGwkG71y.js";import{S as v}from"./ShinyText-2IjqnkFp.js";import{P}from"./PlusButton-Db0q8DXx.js";import"./reactPlayer-CjHFj7G4.js";import"./icons-70IfXVsJ.js";import"./lottie-DTlWc_fK.js";import"./gsap-Brfk6Bdo.js";import"./filepond-DcLflJls.js";import"./index-CpFbDMuT.js";/* empty css                 */const S=({filters:s,setFilters:a,placeholder:r})=>{const{control:t,watch:c}=h({defaultValues:{search:s.search}}),l=c("search");return i.useEffect(()=>{a(o=>({...o,search:l}))},[l,a]),e.jsx("form",{className:"p-4 rounded-lg shadow-md space-y-4",children:e.jsx(j,{control:t,name:"search",render:({field:o})=>e.jsx(b,{id:"search",placeholder:r??"Search ads...",className:"bg-gray-800",field:o})})})},w=({ads:s})=>{const{t:a}=f("ads");return s.length?e.jsx("div",{className:"flex flex-col justify-center sm:flex-row flex-wrap gap-6",children:s.map(r=>e.jsx(N,{ad:r},r.id))}):e.jsx("p",{children:a("adsList.noAds")})},G=()=>{const{t:s}=f("ads"),[a,r]=i.useState("all"),[t,c]=i.useState({adType:null,lookingFor:[],genres:[],locations:null,search:""}),{fetchAllAds:l,searchMusicianAds:o}=y(),u=t.search.trim()?o(t.search):l(),{data:m=[],isLoading:p,error:x}=u,g=a==="all"?m:m.filter(n=>n.ad_type===a),d=n=>`px-4 py-2 rounded-md border-b-2 text-sm text-gray-400 hover:text-gray-100 font-medium cursor-pointer transition-colors ${a===n?`${{all:"border-amber-700",looking:"border-sky-600",offering:"border-emerald-600"}[n]} !text-gray-100`:"text-gray-400"}`;return e.jsx("div",{className:"flex flex-col md:flex-row gap-4 p-4",children:e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"text-center",children:e.jsx(v,{text:s("adsPage.title"),speed:3,className:"text-3xl font-semibold tracking-wide"})}),e.jsx("div",{className:"max-w-md mx-auto mt-4",children:e.jsx(S,{filters:t,setFilters:c,placeholder:s("adsPage.filters.placeholder")})}),e.jsxs("div",{className:"flex justify-center gap-6 my-4",children:[e.jsx("button",{className:d("all"),onClick:()=>r("all"),children:s("adsPage.nav.all")}),e.jsx("button",{className:d("looking"),onClick:()=>r("looking"),children:s("adsPage.nav.looking")}),e.jsx("button",{className:d("offering"),onClick:()=>r("offering"),children:s("adsPage.nav.offering")})]}),e.jsx(P,{label:s("adsPage.buttons.createAd"),to:"/ads/new"}),x&&e.jsx(A,{error:x.message}),p?e.jsx(k,{}):e.jsx(w,{ads:g})]})})};export{G as default};
