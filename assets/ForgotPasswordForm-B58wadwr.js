import{j as r}from"./mui-B-xP7mtj.js";import{r as i}from"./filepond-C4Y8_Bzv.js";import{u as x}from"./index.esm-B1e87uze.js";import{u as b,s as g}from"./index-Drs9Rx39.js";import{I as h}from"./Input-DJlOEIMy.js";import{B as w}from"./Button-CbZ7oUI_.js";import{E as S}from"./ErrorMessage-B2u091H8.js";import"./reactPlayer-xbeEqQf7.js";import"./icons-r1d5ly4y.js";import"./lottie-Qij33HW6.js";const q=()=>{const{t:e}=b("auth",{keyPrefix:"forgotPassword"}),[l,m]=i.useState(!1),[t,s]=i.useState(null),{register:n,handleSubmit:u,formState:{errors:d,isSubmitting:a},reset:c}=x({defaultValues:{email:""}}),p=async({email:f})=>{s(null);const{error:o}=await g.auth.resetPasswordForEmail(f,{redirectTo:`${window.location.origin}/reset-password`});o?s(o.message):(m(!0),c())};return l?r.jsx("p",{className:"text-center text-emerald-500",children:e("success")}):r.jsxs("form",{onSubmit:u(p),className:"max-w-sm mx-auto space-y-4 bg-gray-900 p-6 rounded-md",children:[r.jsx("h1",{className:"text-xl font-bold text-center text-gray-100",children:e("title")}),r.jsx(h,{id:"email",type:"email",label:e("email.label"),placeholder:e("email.placeholder"),register:n,validation:{required:e("errors.emailRequired"),pattern:{value:/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i,message:e("errors.emailInvalid")}},error:d.email}),t&&r.jsx(S,{error:t}),r.jsx(w,{type:"submit",disabled:a,className:"!w-full",children:e(a?"button.loading":"button.default")})]})};export{q as default};
