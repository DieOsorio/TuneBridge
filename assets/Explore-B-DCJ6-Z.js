import{j as e,B as q}from"./mui-O-_7DbpJ.js";import{R as K,k as Q,a as X}from"./icons-D__VgVoR.js";import{P as Y}from"./PostsList-BXPUG525.js";import{r as Z}from"./calendar-BpW-aEGs.js";import{u as B,a as _,b as ee,c as te,d as se,e as oe,f as ae,C as le,S as m,L as re,N as R,R as ie,g as T}from"./index-Cf-eeQSk.js";import{P as ne}from"./ProfilesList-C36QMyRK.js";import{S as ce}from"./ShinyText-CG0EWxw7.js";/* empty css                 */import"./useCanSendDM-B09CymKG.js";import"./index-CpFbDMuT.js";import"./proxy-CMgJRXYy.js";import"./swiper-7Zixx0_p.js";import"./PlusButton-BGz8RCtX.js";import"./reactPlayer-D7fnNHFf.js";import"./lottie-DTlWc_fK.js";import"./gsap-Brfk6Bdo.js";import"./filepond-DcLflJls.js";const D=t=>t.endsWith(" Department")?t.replace(/ Department$/,""):t;function de(){var $,F;const{t}=B("searchProfiles"),{user:i}=_(),{searchProfiles:p,infiniteProfiles:u}=ee(),{register:a,watch:o,setValue:n,handleSubmit:E}=te(),[c,I]=Z.useState(!1),r=o("country"),d=o("state"),x=o("neighborhood"),f=o("role"),h=o("instrument"),b=o("searchTerm"),{data:z=[]}=se(),{data:g=[]}=oe(r),{data:j=[]}=ae(r,d),y=r?(($=le.getCountryByCode(r))==null?void 0:$.name)||r:"",N=d?D(((F=g.find(s=>s.isoCode===d))==null?void 0:F.name)||d):"",v=x&&j.find(s=>s.name===x)?x:"";let l=b||"";y&&(l+=` ${y}`),N&&(l+=` ${N}`),v&&(l+=` ${v}`),f&&(l+=` ${f}`),h&&(l+=` ${h}`);const{data:w,fetchNextPage:A,hasNextPage:U,isFetchingNextPage:S,isLoading:G,error:H}=u(),{data:P=[],isLoading:C}=p(l.trim()||void 0),k=!!i,L=w?w.pages.flat():[],J=k?L.filter(s=>s.id!==i.id):L,O=k?P.filter(s=>s.id!==i.id):P,M=C?null:l&&O.length?O:l?[]:J,V=[{value:"Instrumentalist",label:t("role.options.0.label")},{value:"Singer",label:t("role.options.1.label")},{value:"DJ",label:t("role.options.2.label")},{value:"Producer",label:t("role.options.3.label")},{value:"Composer",label:t("role.options.4.label")}],W=[{value:"Guitar",label:t("instrument.options.0.label")},{value:"Piano",label:t("instrument.options.1.label")},{value:"Drums",label:t("instrument.options.2.label")}];return e.jsxs("div",{className:"w-full py-4 flex flex-col items-center bg-gradient-to-l to-gray-900",children:[e.jsxs("form",{onSubmit:E(()=>{}),className:"w-full max-w-md mb-5",children:[e.jsxs("div",{className:"flex items-center justify-center gap-4",children:[e.jsx("input",{...a("searchTerm"),placeholder:t("search"),className:"border rounded-lg p-2 flex-1 focus:outline-none focus:ring"}),e.jsx("button",{type:"button","aria-label":c?"Hide filters":"Show filters",title:t(c?"hideFilters":"showFilters"),onClick:()=>I(s=>!s),className:`p-2 cursor-pointer rounded-full transition-colors ${c?"bg-sky-600":""}`,children:c?e.jsx(K,{size:22,className:"text-white"}):e.jsx(Q,{size:22,className:"text-gray-400"})})]}),c&&e.jsxs("div",{className:"flex flex-wrap justify-center gap-4 mt-4 animate-fade-in",children:[e.jsx(m,{id:"country",defaultOption:t("country.defaultOption"),options:z.map(s=>({value:s.isoCode,label:s.name})),register:a,className:"!w-[210px]",onChange:s=>{n("country",s.target.value),n("state",""),n("neighborhood","")}}),e.jsx(m,{id:"state",defaultOption:t("state.defaultOption"),options:g.map(s=>({value:s.isoCode,label:D(s.name)})),register:a,className:"!w-[210px]",disabled:!r,onChange:s=>{n("state",s.target.value),n("neighborhood","")}}),e.jsx(m,{id:"neighborhood",defaultOption:t("neighborhood.defaultOption"),options:j.map(s=>({value:s.name,label:s.name})),register:a,className:"!w-[210px]",disabled:!d}),e.jsx(m,{id:"role",defaultOption:t("role.defaultOption"),options:V,register:a,className:"!w-[210px]"}),e.jsx(m,{id:"instrument",defaultOption:t("instrument.defaultOption"),options:W,register:a,className:"!w-[210px]"})]})]}),e.jsx(ne,{profiles:M,isSearching:C,isLoading:G,error:H}),!b&&U&&e.jsx(q,{className:"!w-1/2 md:!w-1/3 !font-bold mt-4 !mx-auto hover:!text-sky-600",onClick:()=>A(),disabled:S,children:S?"Loading...":"Load More"})]})}function Le(){const{t}=B("ui"),i=t("explore.tags",{returnObjects:!0}),p="px-4 py-2 text-lg font-medium rounded-lg border-b-2 transition",u=`${p} border-sky-600 text-gray-200`,a=`${p} text-gray-400 hover:text-gray-200`;return e.jsxs("div",{className:"min-h-screen text-white",children:[e.jsxs("header",{className:"text-center py-8 mb-3 bg-gradient-to-r from-sky-900 to-gray-950 rounded-b-lg shadow-lg flex flex-col items-center",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[e.jsx(X,{className:"text-sky-500 text-4xl animate-custom-pulse"}),e.jsx("h1",{className:"text-5xl font-extrabold text-transparent bg-clip-text bg-gradient-to-r from-cyan-400 to-blue-600",children:e.jsx(ce,{text:t("explore.title"),speed:3})})]}),e.jsx("p",{className:"text-lg max-w-xl mx-auto text-cyan-200/90 font-light tracking-wide",children:t("explore.description")}),e.jsx("div",{className:"flex justify-center flex-wrap gap-2 mt-4",children:i.map(o=>e.jsxs(re,{to:`/hashtag/${o}`,className:"text-xs rounded-full bg-sky-600 px-3 py-1 font-semibold text-cyan-100 hover:bg-sky-500 transition",children:["#",o]},o))})]}),e.jsx("nav",{className:"flex justify-center mb-4",children:e.jsxs("div",{className:"flex gap-8",children:[e.jsx(R,{end:!0,to:"/explore",className:({isActive:o})=>o?u:a,children:t("explore.tabs.posts")}),e.jsx(R,{to:"/explore/profiles",className:({isActive:o})=>o?u:a,children:t("explore.tabs.profiles")})]})}),e.jsxs(ie,{children:[e.jsx(T,{index:!0,element:e.jsx(Y,{})}),e.jsx(T,{path:"profiles",element:e.jsx(de,{})})]})]})}export{Le as default};
