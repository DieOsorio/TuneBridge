import{t as w,q as W,v as f,w as m,x as c,y as k,j as a}from"./mui-DntPDMdt.js";import{r as u}from"./calendar-DXWKnWXk.js";import{u as D,a as F,b as R,A as _,E,aa as x,L as z}from"./index-CXxZbzPL.js";import{S as i}from"./index-BXOMkYts.js";/* empty css                 */import{F as H}from"./EllipsisVerticalIcon-C3aSX2lf.js";function T({title:t,titleId:e,...s},r){return u.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},s),t?u.createElement("title",{id:e},t):null,u.createElement("path",{fillRule:"evenodd",d:"M19.916 4.626a.75.75 0 0 1 .208 1.04l-9 13.5a.75.75 0 0 1-1.154.114l-6-6a.75.75 0 0 1 1.06-1.06l5.353 5.353 8.493-12.74a.75.75 0 0 1 1.04-.207Z",clipRule:"evenodd"}))}const A=u.forwardRef(T);function je(t,e){const s=+w(t)-+w(e);return s<0?-1:s>0?1:s}function ye(t){return W(t,Date.now())}function Pe(t){return e=>{const r=(t?Math[t]:Math.trunc)(e);return r===0?0:r}}const L={lessThanXSeconds:{one:"menos de un segundo",other:"menos de {{count}} segundos"},xSeconds:{one:"1 segundo",other:"{{count}} segundos"},halfAMinute:"medio minuto",lessThanXMinutes:{one:"menos de un minuto",other:"menos de {{count}} minutos"},xMinutes:{one:"1 minuto",other:"{{count}} minutos"},aboutXHours:{one:"alrededor de 1 hora",other:"alrededor de {{count}} horas"},xHours:{one:"1 hora",other:"{{count}} horas"},xDays:{one:"1 día",other:"{{count}} días"},aboutXWeeks:{one:"alrededor de 1 semana",other:"alrededor de {{count}} semanas"},xWeeks:{one:"1 semana",other:"{{count}} semanas"},aboutXMonths:{one:"alrededor de 1 mes",other:"alrededor de {{count}} meses"},xMonths:{one:"1 mes",other:"{{count}} meses"},aboutXYears:{one:"alrededor de 1 año",other:"alrededor de {{count}} años"},xYears:{one:"1 año",other:"{{count}} años"},overXYears:{one:"más de 1 año",other:"más de {{count}} años"},almostXYears:{one:"casi 1 año",other:"casi {{count}} años"}},S=(t,e,s)=>{let r;const o=L[t];return typeof o=="string"?r=o:e===1?r=o.one:r=o.other.replace("{{count}}",e.toString()),s!=null&&s.addSuffix?s.comparison&&s.comparison>0?"en "+r:"hace "+r:r},V={full:"EEEE, d 'de' MMMM 'de' y",long:"d 'de' MMMM 'de' y",medium:"d MMM y",short:"dd/MM/y"},X={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},O={full:"{{date}} 'a las' {{time}}",long:"{{date}} 'a las' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},$={date:f({formats:V,defaultWidth:"full"}),time:f({formats:X,defaultWidth:"full"}),dateTime:f({formats:O,defaultWidth:"full"})},q={lastWeek:"'el' eeee 'pasado a la' p",yesterday:"'ayer a la' p",today:"'hoy a la' p",tomorrow:"'mañana a la' p",nextWeek:"eeee 'a la' p",other:"P"},Y={lastWeek:"'el' eeee 'pasado a las' p",yesterday:"'ayer a las' p",today:"'hoy a las' p",tomorrow:"'mañana a las' p",nextWeek:"eeee 'a las' p",other:"P"},I=(t,e,s,r)=>e.getHours()!==1?Y[t]:q[t],B={narrow:["AC","DC"],abbreviated:["AC","DC"],wide:["antes de cristo","después de cristo"]},Q={narrow:["1","2","3","4"],abbreviated:["T1","T2","T3","T4"],wide:["1º trimestre","2º trimestre","3º trimestre","4º trimestre"]},U={narrow:["e","f","m","a","m","j","j","a","s","o","n","d"],abbreviated:["ene","feb","mar","abr","may","jun","jul","ago","sep","oct","nov","dic"],wide:["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre"]},Z={narrow:["d","l","m","m","j","v","s"],short:["do","lu","ma","mi","ju","vi","sá"],abbreviated:["dom","lun","mar","mié","jue","vie","sáb"],wide:["domingo","lunes","martes","miércoles","jueves","viernes","sábado"]},G={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"mañana",afternoon:"tarde",evening:"tarde",night:"noche"},abbreviated:{am:"AM",pm:"PM",midnight:"medianoche",noon:"mediodia",morning:"mañana",afternoon:"tarde",evening:"tarde",night:"noche"},wide:{am:"a.m.",pm:"p.m.",midnight:"medianoche",noon:"mediodia",morning:"mañana",afternoon:"tarde",evening:"tarde",night:"noche"}},J={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"de la mañana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"},abbreviated:{am:"AM",pm:"PM",midnight:"medianoche",noon:"mediodia",morning:"de la mañana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"},wide:{am:"a.m.",pm:"p.m.",midnight:"medianoche",noon:"mediodia",morning:"de la mañana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"}},K=(t,e)=>Number(t)+"º",ee={ordinalNumber:K,era:m({values:B,defaultWidth:"wide"}),quarter:m({values:Q,defaultWidth:"wide",argumentCallback:t=>Number(t)-1}),month:m({values:U,defaultWidth:"wide"}),day:m({values:Z,defaultWidth:"wide"}),dayPeriod:m({values:G,defaultWidth:"wide",formattingValues:J,defaultFormattingWidth:"wide"})},ae=/^(\d+)(º)?/i,te=/\d+/i,re={narrow:/^(ac|dc|a|d)/i,abbreviated:/^(a\.?\s?c\.?|a\.?\s?e\.?\s?c\.?|d\.?\s?c\.?|e\.?\s?c\.?)/i,wide:/^(antes de cristo|antes de la era com[uú]n|despu[eé]s de cristo|era com[uú]n)/i},se={any:[/^ac/i,/^dc/i],wide:[/^(antes de cristo|antes de la era com[uú]n)/i,/^(despu[eé]s de cristo|era com[uú]n)/i]},oe={narrow:/^[1234]/i,abbreviated:/^T[1234]/i,wide:/^[1234](º)? trimestre/i},ne={any:[/1/i,/2/i,/3/i,/4/i]},ie={narrow:/^[efmajsond]/i,abbreviated:/^(ene|feb|mar|abr|may|jun|jul|ago|sep|oct|nov|dic)/i,wide:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i},de={narrow:[/^e/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^en/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i]},le={narrow:/^[dlmjvs]/i,short:/^(do|lu|ma|mi|ju|vi|s[áa])/i,abbreviated:/^(dom|lun|mar|mi[ée]|jue|vie|s[áa]b)/i,wide:/^(domingo|lunes|martes|mi[ée]rcoles|jueves|viernes|s[áa]bado)/i},me={narrow:[/^d/i,/^l/i,/^m/i,/^m/i,/^j/i,/^v/i,/^s/i],any:[/^do/i,/^lu/i,/^ma/i,/^mi/i,/^ju/i,/^vi/i,/^sa/i]},ce={narrow:/^(a|p|mn|md|(de la|a las) (mañana|tarde|noche))/i,any:/^([ap]\.?\s?m\.?|medianoche|mediodia|(de la|a las) (mañana|tarde|noche))/i},ue={any:{am:/^a/i,pm:/^p/i,midnight:/^mn/i,noon:/^md/i,morning:/mañana/i,afternoon:/tarde/i,evening:/tarde/i,night:/noche/i}},he={ordinalNumber:k({matchPattern:ae,parsePattern:te,valueCallback:function(t){return parseInt(t,10)}}),era:c({matchPatterns:re,defaultMatchWidth:"wide",parsePatterns:se,defaultParseWidth:"any"}),quarter:c({matchPatterns:oe,defaultMatchWidth:"wide",parsePatterns:ne,defaultParseWidth:"any",valueCallback:t=>t+1}),month:c({matchPatterns:ie,defaultMatchWidth:"wide",parsePatterns:de,defaultParseWidth:"any"}),day:c({matchPatterns:le,defaultMatchWidth:"wide",parsePatterns:me,defaultParseWidth:"any"}),dayPeriod:c({matchPatterns:ce,defaultMatchWidth:"any",parsePatterns:ue,defaultParseWidth:"any"})},Me={code:"es",formatDistance:S,formatLong:$,formatRelative:I,localize:ee,match:he,options:{weekStartsOn:1,firstWeekContainsDate:1}};function fe(){const t="#a1a1aa",e="#e4e4e7";return a.jsxs("div",{className:"relative flex flex-col w-35 h-65 bg-gray-100 rounded-lg shadow-sm overflow-hidden",children:[a.jsx(i,{height:160,width:"100%",baseColor:t,highlightColor:e}),a.jsxs("div",{className:"absolute top-2 right-2 flex flex-col items-center",children:[a.jsx(i,{circle:!0,width:5,height:5,baseColor:"#71717a",highlightColor:e}),a.jsx(i,{circle:!0,width:5,height:5,className:"-top-4",baseColor:"#71717a",highlightColor:e}),a.jsx(i,{circle:!0,width:5,height:5,className:"-top-8",baseColor:"#71717a",highlightColor:e})]}),a.jsxs("div",{className:"flex flex-col justify-center items-center gap-1 p-2 grow",children:[a.jsx(i,{height:18,width:120,baseColor:t,highlightColor:e}),a.jsx(i,{height:14,width:90,baseColor:t,highlightColor:e})]})]})}const Ce=({profileId:t,connection:e,ownProfile:s=!1})=>{const{t:r}=D("profile"),{user:o}=F(),d=o==null?void 0:o.id,{fetchProfile:v}=R(),{updateConnection:j,deleteConnection:y}=_(),{data:n,isLoading:P,error:p}=v(t),[h,M]=u.useState(!1);if(P)return a.jsx(fe,{});if(p)return a.jsx(E,{error:p.message});if(!n)return null;const g=(e==null?void 0:e.status)==="pending"&&e.following_profile_id===d;(e==null?void 0:e.status)==="accepted"&&(e.following_profile_id===d||e.follower_profile_id);const C=e&&(e.follower_profile_id===d||e.following_profile_id===d),N=async l=>{if(l.preventDefault(),!(e!=null&&e.id))return console.warn("Connection ID is missing");await j({connection:e,updatedConnection:{status:"accepted"}})},b=async l=>{if(l.preventDefault(),!(e!=null&&e.id))return console.warn("Connection ID is missing");await y(e)};return a.jsxs("div",{className:"relative flex flex-col w-35 h-65 text-gray-800 bg-gray-100 items-center gap-2 border rounded-lg shadow-sm",children:[(e==null?void 0:e.id)&&a.jsxs("div",{className:"absolute top-2 right-2 flex gap-2 z-10",children:[g&&a.jsxs(a.Fragment,{children:[a.jsx("button",{onClick:N,className:"text-green-600 hover:text-green-500","aria-label":r("connection.connectionCard.accept"),children:a.jsx(A,{className:"w-5 h-5"})}),a.jsx("button",{onClick:b,className:"text-rose-600 hover:text-rose-400","aria-label":r("connection.connectionCard.reject"),children:a.jsx(x,{className:"w-5 h-5"})})]}),C&&!g&&s&&a.jsxs("div",{className:"relative",children:[a.jsxs("button",{className:"w-6 h-6 cursor-pointer text-white hover:text-sky-400 p-2 rounded-full focus:outline-none",onClick:()=>M(l=>!l),"aria-label":r("connection.connectionCard.options"),children:[a.jsx("span",{className:`absolute inset-0 flex items-center justify-center transition ${h?"opacity-0 scale-90":"opacity-100 scale-100"}`,children:a.jsx(H,{})}),a.jsx("span",{className:`absolute inset-0 flex items-center justify-center transition ${h?"opacity-100 scale-100":"opacity-0 scale-90"}`,children:a.jsx(x,{})})]}),h&&a.jsx("div",{className:"absolute right-0 w-32 bg-gray-900 border rounded shadow-lg z-50",children:a.jsx("button",{onClick:b,className:"block w-full cursor-pointer text-center px-4 py-2 text-red-500 hover:text-red-600",children:e.status==="accepted"?r("connection.connectionCard.disconnect"):r("connection.connectionCard.delete")})})]})]}),a.jsx(z,{to:`/profile/${t}`,children:a.jsx("img",{src:n.avatar_url||"/default-avatar.png",alt:`${n.username}'s avatar`,className:"w-60 h-40 object-cover rounded-t-lg"})}),a.jsxs("div",{className:"text-center px-2 pb-2",children:[a.jsx("h3",{className:"font-semibold text-lg",children:n.username}),n.state||n.country?a.jsx("p",{className:"text-gray-400 text-sm",children:[n.state,n.country].filter(Boolean).join(", ")}):null]})]})};export{fe as C,ye as a,Ce as b,je as c,Me as e,Pe as g};
