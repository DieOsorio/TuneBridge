import{j as r}from"./mui-B-xP7mtj.js";import{r as m}from"./filepond-C4Y8_Bzv.js";import{u as f}from"./index.esm-B1e87uze.js";import{u as w,d as x,s as l}from"./index-cVJRNoKt.js";import{I as g}from"./Input-DJlOEIMy.js";import{B as b}from"./Button-CbZ7oUI_.js";import{E as h}from"./ErrorMessage-B2u091H8.js";import"./reactPlayer-xbeEqQf7.js";import"./icons-r1d5ly4y.js";import"./lottie-Qij33HW6.js";const I=()=>{const{t:s}=w("auth",{keyPrefix:"resetPassword"}),e=x(),[a,o]=m.useState(null),{register:u,handleSubmit:d,setError:y,formState:{errors:p,isSubmitting:i}}=f({defaultValues:{password:""}});m.useEffect(()=>{(async()=>{const{data:t}=await l.auth.getSession();t.session||e("/login")})()},[e]);const c=async({password:t})=>{o(null);const{error:n}=await l.auth.updateUser({password:t});n?o(n.message):e("/login?reset=success")};return r.jsxs("form",{onSubmit:d(c),className:"max-w-sm mx-auto space-y-4 bg-gray-900 p-6 rounded-md",children:[r.jsx("h1",{className:"text-xl font-bold text-center text-gray-100",children:s("title")}),r.jsx(g,{id:"password",type:"password",label:s("password.label"),placeholder:s("password.placeholder"),autoComplete:"new-password",register:u,validation:{required:s("errors.passwordRequired"),minLength:{value:6,message:s("errors.passwordMin")}},error:p.password}),a&&r.jsx(h,{error:a}),r.jsx(b,{type:"submit",disabled:i,className:"!w-full",children:s(i?"button.loading":"button.default")})]})};export{I as default};
