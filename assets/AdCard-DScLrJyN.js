import{j as e,P as r}from"./mui-B-xP7mtj.js";import{C as h,x as j}from"./icons-r1d5ly4y.js";import{u as b,a as y,x as C,e as N,L as c}from"./index-CRsfiaS_.js";import{C as k}from"./ConfirmDialog-DxIiB_6a.js";import{r as v}from"./filepond-C4Y8_Bzv.js";const w=({ad:s,publisherId:m})=>{var l,d;const{t}=b("ads"),{user:o}=y(),i=!!o,{deleteAd:x}=C(),[g,a]=v.useState(!1);if(!s)return e.jsx(N,{});const n=s.ad_type==="looking",f=i&&(s.profile_id===o.id||s.group_id===m),p=()=>{i&&(x(s),a(!1))},u=()=>{a(!1)};return e.jsxs("div",{className:`${n?"border-cyan-600":"border-emerald-600"} rounded-2xl border sm:min-w-100 bg-gray-900 p-5 shadow-sm hover:shadow-md transition-shadow space-y-4`,children:[e.jsxs("div",{className:"flex items-center justify-between gap-4",children:[e.jsx("h3",{className:`text-lg text-left font-semibold ${n?"text-cyan-600":"text-emerald-600"}`,children:s.title}),e.jsx("span",{className:`text-xs font-semibold min-w-20 text-center px-2 py-1 rounded-lg leading-tight ${n?"bg-cyan-100 text-cyan-600":"bg-emerald-100 text-emerald-600"}`,children:t(n?"adCard.badges.looking":"adCard.badges.offering")})]}),e.jsxs("div",{className:"text-sm text-gray-100 space-y-1 text-left",children:[e.jsxs("p",{children:[e.jsx("span",{className:"font-medium text-gray-400",children:t(n?"adCard.badges.looking":"adCard.badges.offering")})," ",(l=s.looking_for)!=null&&l.length?s.looking_for.join(", "):"—"]}),e.jsxs("p",{children:[e.jsx("span",{className:"font-medium text-gray-400",children:t("adCard.info.genres")})," ",(d=s.genres)!=null&&d.length?s.genres.join(", "):"—"]}),e.jsxs("p",{children:[e.jsx("span",{className:"font-medium text-gray-400",children:t("adCard.info.location")})," ",s.location||"—"]})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[f&&e.jsxs("div",{className:"flex gap-3",children:[e.jsx(c,{to:`/ads/edit/${s.id}`,children:e.jsx(h,{title:t("adCard.buttons.edit"),className:"text-yellow-500"})}),e.jsx("button",{onClick:()=>a(!0),children:e.jsx(j,{title:t("adCard.buttons.delete"),className:"text-red-500 mr-6 cursor-pointer"})})]}),e.jsx(c,{to:i?`/ads/${s.id}`:"/login",className:`text-sm hover:underline font-medium transition-colors ${n?"text-cyan-600 hover:text-cyan-600":"text-emerald-600 hover:text-emerald-600"}`,children:t("adCard.buttons.details")})]}),e.jsx(k,{isOpen:g,title:t("confirmDialog.title"),message:t("confirmDialog.message"),onConfirm:p,onCancel:u,confirmLabel:t("confirmDialog.labels.confirm"),cancelLabel:t("confirmDialog.labels.cancel"),color:"error"})]})};w.propTypes={ad:r.shape({id:r.string.isRequired,ad_type:r.string.isRequired,looking_for:r.string.isRequired,genres:r.array.isRequired,location:r.string.isRequired}).isRequired};export{w as A};
