import{j as e}from"./mui-COfzhOQm.js";import{r as w}from"./filepond-C4Y8_Bzv.js";import{u as v,a as N,x as b,h as _,L as C,P as k}from"./index--knYYYFr.js";import{C as P,x as h,z as I,w as L,y as S}from"./icons-Cu9gFVBg.js";import{S as d}from"./index-cpdcplt_.js";/* empty css                 */const $=({profile:t})=>{const{t:a}=v("profile"),{user:o}=N(),c=!!o,{addConnection:x,deleteConnection:i,userConnections:u,updateConnection:p}=b(),{data:m}=u(t.id),[n,g]=w.useState(""),f=_(),r=c&&(m==null?void 0:m.find(l=>l.follower_profile_id===o.id&&l.following_profile_id===t.id||l.follower_profile_id===t.id&&l.following_profile_id===o.id)),s=(r==null?void 0:r.status)??"connect",j=async()=>{if(!c){f("/login");return}s==="connect"?await x({follower_profile_id:o.id,following_profile_id:t.id,status:"pending"}):s==="pending"?await i(r):s==="accepted"?await i(r):s==="blocked"&&await p({connection:r,updatedConnection:{status:"accepted"}})},y=()=>s==="pending"?a("connection.cancelRequest"):s==="accepted"?a("connection.disconnect"):s==="blocked"?a("connection.unblock"):null;return e.jsxs("div",{className:"flex flex-col w-60 h-90 text-gray-800 items-center gap-2 border rounded-lg shadow-sm bg-gray-200",style:{contentVisibility:"auto",containIntrinsicSize:"370px"},children:[e.jsx(C,{to:`/profile/${t.id}`,children:e.jsx(k,{avatar_url:t.avatar_url,alt:`${t.username}'s avatar`,className:"object-cover h-50 w-60",list:!0,gender:t.gender})}),e.jsxs("div",{className:"text-center",children:[e.jsx("h3",{className:"font-semibold text-lg",children:t.username}),t.state&&t.country?e.jsxs("p",{className:"text-gray-500",children:[t.state,", ",t.country]}):t.country?e.jsx("p",{className:"text-gray-500",children:t.country}):t.state?e.jsx("p",{className:"text-gray-500",children:t.state}):null]}),e.jsx("div",{className:"mt-auto py-4",children:e.jsxs("button",{className:"relative font-bold cursor-pointer w-50 bg-gray-500 text-white px-4 py-2 rounded h-10 overflow-hidden flex items-center gap-2",onClick:j,onMouseEnter:()=>g(y()),onMouseLeave:()=>g(null),children:[e.jsxs("span",{className:"pl-1",children:[s==="connect"&&e.jsx(P,{className:"text-green-50"}),s==="accepted"&&!n&&e.jsx(h,{className:"text-green-50"}),s==="pending"&&!n&&e.jsx(I,{className:"text-yellow-50"}),(s==="pending"||s==="accepted")&&n&&e.jsx(L,{className:"text-red-50"}),s==="blocked"&&!n&&e.jsx(S,{className:"text-red-100"}),s==="blocked"&&n&&e.jsx(h,{className:""})]}),e.jsx("span",{className:`absolute inset-0 text-[13px] flex items-center justify-center transition-opacity duration-400 ${n?"opacity-0":"opacity-100"}`,children:a(`connection.${s}`)}),e.jsx("span",{className:`absolute inset-0 text-[13px] flex items-center justify-center transition-opacity duration-400 ${n?"opacity-100":"opacity-0"}`,children:n||""})]})})]})},A=()=>{const t="#a1a1aa",a="#e4e4e7";return e.jsxs("div",{className:"flex flex-col w-60 h-90 items-center gap-2 rounded-lg shadow-sm bg-gray-200",children:[e.jsx(d,{height:200,width:240,baseColor:t,highlightColor:a}),e.jsxs("div",{className:"text-center w-full px-4",children:[e.jsx(d,{height:20,width:"70%",baseColor:t,highlightColor:a}),e.jsx(d,{height:16,width:"50%",baseColor:t,highlightColor:a})]}),e.jsx("div",{className:"mt-auto py-4 w-full flex justify-center",children:e.jsx(d,{height:40,width:200,borderRadius:8,baseColor:t,highlightColor:a})})]})},H=({profiles:t,isSearching:a,isLoading:o,error:c})=>{const x=a||o;return c?e.jsx(ErrorMessage,{error:c.message}):x?e.jsx("div",{className:"w-full flex flex-wrap justify-center gap-4",children:[...Array(4)].map((i,u)=>e.jsx(A,{},u))}):!t||t.length===0?e.jsx("p",{className:"text-gray-500",children:"No profiles available."}):e.jsx("div",{className:"w-full flex flex-wrap justify-center gap-4",children:t.map(i=>e.jsx($,{profile:i},i.id))})};export{H as P};
