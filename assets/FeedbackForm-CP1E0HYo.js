import{j as a}from"./mui-DntPDMdt.js";import{u as b,a as g,am as x,j as f,c as y,S as h,I as v,U as k,B as j}from"./index-CXxZbzPL.js";import"./calendar-DXWKnWXk.js";import"./reactPlayer-CBmCIXQE.js";import"./icons-Cf_ygVw3.js";import"./lottie-FCmafNqs.js";import"./gsap-CH_iu5NA.js";import"./filepond-DvarZm2e.js";const V=()=>{const{t:e}=b("feedback",{keyPrefix:"form"}),{user:s}=g(),{insertUserFeedback:c}=x(),m=f(),{register:o,control:d,handleSubmit:n,formState:{errors:t},watch:l}=y({defaultValues:{type:"",message:"",feedback_topic:""}}),p=async r=>{var i;if(!(s!=null&&s.id))return;const u={profile_id:s.id,type:r.type,message:r.message,feedback_topic:((i=r.feedback_topic)==null?void 0:i.trim())||null};await c(u),m("/feedback-success")};return a.jsxs("form",{onSubmit:n(p),className:"space-y-4 max-w-lg mx-auto",children:[a.jsx(h,{id:"type",label:e("labels.type"),options:[{value:"bug",label:e("types.bug")},{value:"suggestion",label:e("types.suggestion")},{value:"other",label:e("types.other")}],control:d,error:t.type,validation:{required:e("validations.typeRequired")},search:!1,classForLabel:"text-gray-400"}),a.jsx(v,{id:"feedback_topic",label:e("labels.topic"),placeholder:e("placeholders.topic"),type:"text",register:o,watchValue:l("feedback_topic")||void 0,maxLength:50,classForLabel:"!text-gray-400",error:t.feedback_topic}),a.jsx(k,{id:"message",label:e("labels.message"),placeholder:e("placeholders.message"),register:o,validation:{required:e("validations.messageRequired"),maxLength:{value:500,message:e("validations.messageMax")}},error:t.message,maxLength:500,watchValue:l("message"),classForLabel:"text-gray-400"}),a.jsx("div",{className:"flex justify-center gap-4",children:a.jsx(j,{className:"!bg-emerald-600 hover:!bg-emerald-700",type:"submit",children:e("buttons.submit")})})]})};export{V as default};
