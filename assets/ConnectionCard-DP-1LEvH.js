import{t as p,q as C,v as u,w as m,x as c,y as W,j as a}from"./mui-DM0ppf3M.js";import{r as N}from"./calendar-BpW-aEGs.js";import{u as k,a as D,b as _,A as z,E as F,L as T}from"./index-p55ST7R3.js";import{$ as H,a8 as A,a9 as E}from"./icons-70IfXVsJ.js";import{S as i}from"./index-CpFbDMuT.js";/* empty css                 */function we(t,e){const o=+p(t)-+p(e);return o<0?-1:o>0?1:o}function je(t){return C(t,Date.now())}function ye(t){return e=>{const r=(t?Math[t]:Math.trunc)(e);return r===0?0:r}}const L={lessThanXSeconds:{one:"menos de un segundo",other:"menos de {{count}} segundos"},xSeconds:{one:"1 segundo",other:"{{count}} segundos"},halfAMinute:"medio minuto",lessThanXMinutes:{one:"menos de un minuto",other:"menos de {{count}} minutos"},xMinutes:{one:"1 minuto",other:"{{count}} minutos"},aboutXHours:{one:"alrededor de 1 hora",other:"alrededor de {{count}} horas"},xHours:{one:"1 hora",other:"{{count}} horas"},xDays:{one:"1 día",other:"{{count}} días"},aboutXWeeks:{one:"alrededor de 1 semana",other:"alrededor de {{count}} semanas"},xWeeks:{one:"1 semana",other:"{{count}} semanas"},aboutXMonths:{one:"alrededor de 1 mes",other:"alrededor de {{count}} meses"},xMonths:{one:"1 mes",other:"{{count}} meses"},aboutXYears:{one:"alrededor de 1 año",other:"alrededor de {{count}} años"},xYears:{one:"1 año",other:"{{count}} años"},overXYears:{one:"más de 1 año",other:"más de {{count}} años"},almostXYears:{one:"casi 1 año",other:"casi {{count}} años"}},S=(t,e,o)=>{let r;const s=L[t];return typeof s=="string"?r=s:e===1?r=s.one:r=s.other.replace("{{count}}",e.toString()),o!=null&&o.addSuffix?o.comparison&&o.comparison>0?"en "+r:"hace "+r:r},V={full:"EEEE, d 'de' MMMM 'de' y",long:"d 'de' MMMM 'de' y",medium:"d MMM y",short:"dd/MM/y"},R={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},X={full:"{{date}} 'a las' {{time}}",long:"{{date}} 'a las' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},O={date:u({formats:V,defaultWidth:"full"}),time:u({formats:R,defaultWidth:"full"}),dateTime:u({formats:X,defaultWidth:"full"})},q={lastWeek:"'el' eeee 'pasado a la' p",yesterday:"'ayer a la' p",today:"'hoy a la' p",tomorrow:"'mañana a la' p",nextWeek:"eeee 'a la' p",other:"P"},I={lastWeek:"'el' eeee 'pasado a las' p",yesterday:"'ayer a las' p",today:"'hoy a las' p",tomorrow:"'mañana a las' p",nextWeek:"eeee 'a las' p",other:"P"},Y=(t,e,o,r)=>e.getHours()!==1?I[t]:q[t],$={narrow:["AC","DC"],abbreviated:["AC","DC"],wide:["antes de cristo","después de cristo"]},B={narrow:["1","2","3","4"],abbreviated:["T1","T2","T3","T4"],wide:["1º trimestre","2º trimestre","3º trimestre","4º trimestre"]},Q={narrow:["e","f","m","a","m","j","j","a","s","o","n","d"],abbreviated:["ene","feb","mar","abr","may","jun","jul","ago","sep","oct","nov","dic"],wide:["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre"]},U={narrow:["d","l","m","m","j","v","s"],short:["do","lu","ma","mi","ju","vi","sá"],abbreviated:["dom","lun","mar","mié","jue","vie","sáb"],wide:["domingo","lunes","martes","miércoles","jueves","viernes","sábado"]},G={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"mañana",afternoon:"tarde",evening:"tarde",night:"noche"},abbreviated:{am:"AM",pm:"PM",midnight:"medianoche",noon:"mediodia",morning:"mañana",afternoon:"tarde",evening:"tarde",night:"noche"},wide:{am:"a.m.",pm:"p.m.",midnight:"medianoche",noon:"mediodia",morning:"mañana",afternoon:"tarde",evening:"tarde",night:"noche"}},J={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"de la mañana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"},abbreviated:{am:"AM",pm:"PM",midnight:"medianoche",noon:"mediodia",morning:"de la mañana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"},wide:{am:"a.m.",pm:"p.m.",midnight:"medianoche",noon:"mediodia",morning:"de la mañana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"}},K=(t,e)=>Number(t)+"º",Z={ordinalNumber:K,era:m({values:$,defaultWidth:"wide"}),quarter:m({values:B,defaultWidth:"wide",argumentCallback:t=>Number(t)-1}),month:m({values:Q,defaultWidth:"wide"}),day:m({values:U,defaultWidth:"wide"}),dayPeriod:m({values:G,defaultWidth:"wide",formattingValues:J,defaultFormattingWidth:"wide"})},ee=/^(\d+)(º)?/i,ae=/\d+/i,te={narrow:/^(ac|dc|a|d)/i,abbreviated:/^(a\.?\s?c\.?|a\.?\s?e\.?\s?c\.?|d\.?\s?c\.?|e\.?\s?c\.?)/i,wide:/^(antes de cristo|antes de la era com[uú]n|despu[eé]s de cristo|era com[uú]n)/i},re={any:[/^ac/i,/^dc/i],wide:[/^(antes de cristo|antes de la era com[uú]n)/i,/^(despu[eé]s de cristo|era com[uú]n)/i]},oe={narrow:/^[1234]/i,abbreviated:/^T[1234]/i,wide:/^[1234](º)? trimestre/i},se={any:[/1/i,/2/i,/3/i,/4/i]},ne={narrow:/^[efmajsond]/i,abbreviated:/^(ene|feb|mar|abr|may|jun|jul|ago|sep|oct|nov|dic)/i,wide:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i},ie={narrow:[/^e/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^en/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i]},de={narrow:/^[dlmjvs]/i,short:/^(do|lu|ma|mi|ju|vi|s[áa])/i,abbreviated:/^(dom|lun|mar|mi[ée]|jue|vie|s[áa]b)/i,wide:/^(domingo|lunes|martes|mi[ée]rcoles|jueves|viernes|s[áa]bado)/i},le={narrow:[/^d/i,/^l/i,/^m/i,/^m/i,/^j/i,/^v/i,/^s/i],any:[/^do/i,/^lu/i,/^ma/i,/^mi/i,/^ju/i,/^vi/i,/^sa/i]},me={narrow:/^(a|p|mn|md|(de la|a las) (mañana|tarde|noche))/i,any:/^([ap]\.?\s?m\.?|medianoche|mediodia|(de la|a las) (mañana|tarde|noche))/i},ce={any:{am:/^a/i,pm:/^p/i,midnight:/^mn/i,noon:/^md/i,morning:/mañana/i,afternoon:/tarde/i,evening:/tarde/i,night:/noche/i}},ue={ordinalNumber:W({matchPattern:ee,parsePattern:ae,valueCallback:function(t){return parseInt(t,10)}}),era:c({matchPatterns:te,defaultMatchWidth:"wide",parsePatterns:re,defaultParseWidth:"any"}),quarter:c({matchPatterns:oe,defaultMatchWidth:"wide",parsePatterns:se,defaultParseWidth:"any",valueCallback:t=>t+1}),month:c({matchPatterns:ne,defaultMatchWidth:"wide",parsePatterns:ie,defaultParseWidth:"any"}),day:c({matchPatterns:de,defaultMatchWidth:"wide",parsePatterns:le,defaultParseWidth:"any"}),dayPeriod:c({matchPatterns:me,defaultMatchWidth:"any",parsePatterns:ce,defaultParseWidth:"any"})},Pe={code:"es",formatDistance:S,formatLong:O,formatRelative:Y,localize:Z,match:ue,options:{weekStartsOn:1,firstWeekContainsDate:1}};function he(){const t="#a1a1aa",e="#e4e4e7";return a.jsxs("div",{className:"relative flex flex-col w-35 h-65 bg-gray-100 rounded-lg shadow-sm overflow-hidden",children:[a.jsx(i,{height:160,width:"100%",baseColor:t,highlightColor:e}),a.jsxs("div",{className:"absolute top-2 right-2 flex flex-col items-center",children:[a.jsx(i,{circle:!0,width:5,height:5,baseColor:"#71717a",highlightColor:e}),a.jsx(i,{circle:!0,width:5,height:5,className:"-top-4",baseColor:"#71717a",highlightColor:e}),a.jsx(i,{circle:!0,width:5,height:5,className:"-top-8",baseColor:"#71717a",highlightColor:e})]}),a.jsxs("div",{className:"flex flex-col justify-center items-center gap-1 p-2 grow",children:[a.jsx(i,{height:18,width:120,baseColor:t,highlightColor:e}),a.jsx(i,{height:14,width:90,baseColor:t,highlightColor:e})]})]})}const Me=({profileId:t,connection:e,ownProfile:o=!1})=>{const{t:r}=k("profile"),{user:s}=D(),d=s==null?void 0:s.id,{fetchProfile:b}=_(),{updateConnection:v,deleteConnection:x}=z(),{data:n,isLoading:w,error:h}=b(t),[j,y]=N.useState(!1);if(w)return a.jsx(he,{});if(h)return a.jsx(F,{error:h.message});if(!n)return null;const f=(e==null?void 0:e.status)==="pending"&&e.following_profile_id===d;(e==null?void 0:e.status)==="accepted"&&(e.following_profile_id===d||e.follower_profile_id);const P=e&&(e.follower_profile_id===d||e.following_profile_id===d),M=async l=>{if(l.preventDefault(),!(e!=null&&e.id))return console.warn("Connection ID is missing");await v({connection:e,updatedConnection:{status:"accepted"}})},g=async l=>{if(l.preventDefault(),!(e!=null&&e.id))return console.warn("Connection ID is missing");await x(e)};return a.jsxs("div",{className:"relative flex flex-col w-35 h-65 text-gray-800 bg-gray-100 items-center gap-2 border rounded-lg shadow-sm",children:[(e==null?void 0:e.id)&&a.jsxs("div",{className:"absolute top-2 right-2 flex gap-2 z-10",children:[f&&a.jsxs(a.Fragment,{children:[a.jsx("button",{onClick:M,className:"text-green-600 hover:text-green-800","aria-label":r("connection.connectionCard.accept"),children:a.jsx(H,{})}),a.jsx("button",{onClick:g,className:"text-red-600 hover:text-red-800","aria-label":r("connection.connectionCard.reject"),children:a.jsx(A,{})})]}),P&&!f&&o&&a.jsxs("div",{className:"relative",children:[a.jsx("button",{onClick:()=>y(l=>!l),className:"text-gray-950 hover:text-orange-700 cursor-pointer","aria-label":r("connection.connectionCard.options"),children:a.jsx(E,{title:r("connection.connectionCard.options")})}),j&&a.jsx("div",{className:"absolute right-0 mt-2 w-32 bg-gray-900 border rounded shadow-lg z-50",children:a.jsx("button",{onClick:g,className:"block w-full cursor-pointer text-center px-4 py-2 text-red-500 hover:text-red-600",children:e.status==="accepted"?r("connection.connectionCard.disconnect"):r("connection.connectionCard.delete")})})]})]}),a.jsx(T,{to:`/profile/${t}`,children:a.jsx("img",{src:n.avatar_url||"/default-avatar.png",alt:`${n.username}'s avatar`,className:"w-60 h-40 object-cover rounded-t-lg"})}),a.jsxs("div",{className:"text-center px-2 pb-2",children:[a.jsx("h3",{className:"font-semibold text-lg",children:n.username}),n.state||n.country?a.jsx("p",{className:"text-gray-400 text-sm",children:[n.state,n.country].filter(Boolean).join(", ")}):null]})]})};export{he as C,je as a,Me as b,we as c,Pe as e,ye as g};
