import{j as e}from"./mui-DntPDMdt.js";import{r as d}from"./calendar-DXWKnWXk.js";import{c as h,n as j,I as b,u as f,Q as y,E as A}from"./index-DUDycYqK.js";import{A as k,a as N}from"./AdsListSkeleton-D0T4Hezu.js";import{S as v}from"./ShinyText-CNYmsWG2.js";import{P}from"./PlusButton-DVVuMSOv.js";import"./reactPlayer-CBmCIXQE.js";import"./icons-Cf_ygVw3.js";import"./lottie-FCmafNqs.js";import"./gsap-CH_iu5NA.js";import"./filepond-DvarZm2e.js";import"./PencilIcon-D1yNP24j.js";import"./TrashIcon-CUrawVMm.js";import"./index-BXOMkYts.js";/* empty css                 */const w=({filters:s,setFilters:r,placeholder:t})=>{const{control:a,watch:c}=h({defaultValues:{search:s.search}}),l=c("search");return d.useEffect(()=>{r(o=>({...o,search:l}))},[l,r]),e.jsx("form",{className:"p-4 rounded-lg shadow-md space-y-4",children:e.jsx(j,{control:a,name:"search",render:({field:o})=>e.jsx(b,{id:"search",placeholder:t,field:o})})})},C=({ads:s})=>{const{t:r}=f("ads");return s.length?e.jsx("div",{className:"flex flex-col justify-center sm:flex-row flex-wrap gap-6",children:s.map(t=>e.jsx(k,{ad:t},t.id))}):e.jsx("p",{children:r("adsList.noAds")})},J=()=>{const{t:s}=f("ads"),[r,t]=d.useState("all"),[a,c]=d.useState({adType:null,lookingFor:[],genres:[],locations:null,search:""}),{fetchAllAds:l,searchMusicianAds:o}=y(),p=a.search.trim()?o(a.search):l(),{data:m=[],isLoading:u,error:x}=p,g=r==="all"?m:m.filter(n=>n.ad_type===r),i=n=>`px-4 py-2 rounded-md border-b-2 text-sm text-gray-400 hover:text-gray-100 font-medium cursor-pointer transition-colors ${r===n?`${{all:"border-amber-700",looking:"border-sky-600",offering:"border-emerald-600"}[n]} !text-gray-100`:"text-gray-400"}`;return e.jsx("div",{className:"flex flex-col md:flex-row gap-4 p-4",children:e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"text-center",children:e.jsx(v,{text:s("adsPage.title"),speed:3,className:"text-3xl font-semibold tracking-wide"})}),e.jsx("div",{className:"max-w-md mx-auto mt-4",children:e.jsx(w,{filters:a,setFilters:c,placeholder:s("adsPage.filters.placeholder")})}),e.jsxs("div",{className:"flex justify-center gap-6 my-4",children:[e.jsx("button",{className:i("all"),onClick:()=>t("all"),children:s("adsPage.nav.all")}),e.jsx("button",{className:i("looking"),onClick:()=>t("looking"),children:s("adsPage.nav.looking")}),e.jsx("button",{className:i("offering"),onClick:()=>t("offering"),children:s("adsPage.nav.offering")})]}),e.jsx(P,{label:s("adsPage.buttons.createAd"),to:"/ads/new"}),x&&e.jsx(A,{error:x.message}),u?e.jsx(N,{}):e.jsx(C,{ads:g})]})})};export{J as default};
