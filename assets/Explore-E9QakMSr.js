import{j as e,B}from"./mui-B-xP7mtj.js";import{f as D,a as M}from"./icons-r1d5ly4y.js";import{P as I}from"./PostsList-tl1SaheJ.js";import{u as O,b as z,a as G,L as H,N as S,R as J,c as k}from"./index-Drs9Rx39.js";import{E as U}from"./ErrorMessage-B2u091H8.js";import{P as W,a as _}from"./ProfilesList-DhoX5xNl.js";import{u as q}from"./index.esm-B1e87uze.js";import{S as K}from"./Select-DM_fTtaf.js";import{r as Q}from"./filepond-C4Y8_Bzv.js";import{S as V}from"./ShinyText-DgKPoZ1S.js";import"./ProfileAvatar-c1RuMNn7.js";import"./index-cpdcplt_.js";import"./useCanSendDM-CBjXz14O.js";import"./proxy-A4UlACsI.js";import"./swiper-Ciezsct5.js";import"./PlusButton-BGn71p1w.js";import"./reactPlayer-xbeEqQf7.js";import"./lottie-Qij33HW6.js";const X=()=>{const{t}=O("searchProfiles"),{searchProfiles:d,infiniteProfiles:c}=z(),{user:r}=G(),i=!!r,{register:o,watch:a,handleSubmit:L}=q(),[m,$]=Q.useState(!1),f=a("searchTerm"),u=a("country"),x=a("state"),h=a("neighborhood"),b=a("role"),g=a("instrument"),{data:p,fetchNextPage:E,hasNextPage:F,isFetchingNextPage:j,isLoading:T,error:y}=c();let l=f||"";u&&(l+=` ${u}`),x&&(l+=` ${x}`),h&&(l+=` ${h}`),b&&(l+=` ${b}`),g&&(l+=` ${g}`);const{data:v=[],isLoading:N}=d(l.trim()||void 0);if(y)return e.jsx(U,{error:y.message||"Error when loading profiles."});if(T&&!p)return e.jsx("div",{className:"flex flex-col gap-4 items-center",children:[...Array(7)].map((s,A)=>e.jsx(W,{},A))});const w=p?p.pages.flat():[],C=i?w.filter(s=>s.id!==r.id):w,P=i?v.filter(s=>s.id!==r.id):v;let n=[];N?n=null:l&&P.length>0?n=P:l?n=[]:n=C;const R=[{id:"country",defaultOption:t("country.defaultOption"),options:[{value:"Uruguay",label:t("country.options.0.label")},{value:"Argentina",label:t("country.options.1.label")}]},{id:"state",defaultOption:t("state.defaultOption"),options:[{value:"Montevideo",label:t("state.options.0.label")},{value:"Buenos Aires",label:t("state.options.1.label")}]},{id:"role",defaultOption:t("role.defaultOption"),options:[{value:"Instrumentalist",label:t("role.options.0.label")},{value:"Singer",label:t("role.options.1.label")},{value:"DJ",label:t("role.options.2.label")},{value:"Producer",label:t("role.options.3.label")},{value:"Composer",label:t("role.options.4.label")}]},{id:"instrument",defaultOption:t("instrument.defaultOption"),options:[{value:"Guitar",label:t("instrument.options.0.label")},{value:"Piano",label:t("instrument.options.1.label")},{value:"Drums",label:t("instrument.options.2.label")}]}];return e.jsxs("div",{className:"w-full py-4 flex flex-col items-center bg-gradient-to-l to-gray-900",children:[e.jsxs("form",{onSubmit:L(()=>{}),className:"mb-5 w-full max-w-md flex flex-col gap-2",children:[e.jsxs("div",{className:"flex items-center justify-center gap-4",children:[e.jsx("input",{type:"text",...o("searchTerm"),placeholder:t("search"),className:"border rounded-lg p-2 focus:outline-none focus:ring"}),e.jsx("button",{type:"button","aria-label":m?"Hide filters":"Show filters",onClick:()=>$(s=>!s),className:`p-2 rounded-lg border border-gray-100 transition-colors ${m?"bg-sky-600":"bg-transparent"} hover:bg-sky-700 focus:outline-none focus:ring`,style:{minWidth:40},children:e.jsx(D,{size:22,className:m?"text-white":"text-gray-400"})})]}),m&&e.jsx("div",{className:"flex gap-4 mt-4 justify-center flex-wrap animate-fade-in",children:R.map(s=>e.jsx(K,{id:s.id,label:null,defaultOption:s.defaultOption,options:s.options,register:o,className:"!min-w-[210px]"},s.id))})]}),e.jsx(_,{profiles:n,isSearching:N}),!f&&F&&e.jsx(B,{className:"!w-1/2 md:!w-1/3 !font-bold mt-4 !mx-auto hover:!text-sky-600",onClick:()=>E(),disabled:j,children:j?"Loading...":"Load More"})]})};function he(){const{t}=O("ui"),d=t("explore.tags",{returnObjects:!0}),c="px-4 py-2 text-lg font-medium rounded-lg border-b-2 transition",r=`${c} border-sky-600 text-gray-200`,i=`${c} text-gray-400 hover:text-gray-200`;return e.jsxs("div",{className:"min-h-screen text-white",children:[e.jsxs("header",{className:"text-center py-8 mb-3 bg-gradient-to-r from-sky-900 to-gray-950 rounded-b-lg shadow-lg flex flex-col items-center",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[e.jsx(M,{className:"text-sky-500 text-4xl animate-custom-pulse"}),e.jsx("h1",{className:"text-5xl font-extrabold text-transparent bg-clip-text bg-gradient-to-r from-cyan-400 to-blue-600",children:e.jsx(V,{text:t("explore.title"),speed:3})})]}),e.jsx("p",{className:"text-lg max-w-xl mx-auto text-cyan-200/90 font-light tracking-wide",children:t("explore.description")}),e.jsx("div",{className:"flex justify-center flex-wrap gap-2 mt-4",children:d.map(o=>e.jsxs(H,{to:`/hashtag/${o}`,className:"text-xs rounded-full bg-sky-600 px-3 py-1 font-semibold text-cyan-100 hover:bg-sky-500 transition",children:["#",o]},o))})]}),e.jsx("nav",{className:"flex justify-center mb-4",children:e.jsxs("div",{className:"flex gap-8",children:[e.jsx(S,{end:!0,to:"/explore",className:({isActive:o})=>o?r:i,children:t("explore.tabs.posts")}),e.jsx(S,{to:"/explore/profiles",className:({isActive:o})=>o?r:i,children:t("explore.tabs.profiles")})]})}),e.jsxs(J,{children:[e.jsx(k,{index:!0,element:e.jsx(I,{})}),e.jsx(k,{path:"profiles",element:e.jsx(X,{})})]})]})}export{he as default};
