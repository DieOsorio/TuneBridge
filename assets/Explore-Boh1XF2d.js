import{j as e,B as q}from"./mui-r_OKU3k3.js";import{R as K,k as Q,a as X}from"./icons-C9PPhvnE.js";import{P as Y}from"./PostsList-gc_My0sZ.js";import{r as Z}from"./filepond-C4Y8_Bzv.js";import{u as B,a as ee,b as te,c as se,d as ae,e as oe,f as re,C as le,E as ie,S as m,L as ne,N as E,R as ce,g as T}from"./index-Lh6-Uiv0.js";import{P as de,a as me}from"./ProfilesList-DhhvKQUI.js";import{S as pe}from"./ShinyText-pBf_BUOn.js";import"./index-cpdcplt_.js";import"./useCanSendDM-D6i4U4uf.js";import"./proxy-BT4QSSG6.js";import"./swiper-Ciezsct5.js";import"./PlusButton-Cxgoa6SF.js";import"./reactPlayer-P4y7tfwb.js";import"./lottie-Qij33HW6.js";import"./gsap-Brfk6Bdo.js";const D=t=>t.endsWith(" Department")?t.replace(/ Department$/,""):t;function ue(){var F,R;const{t}=B("searchProfiles"),{user:i}=ee(),{searchProfiles:p,infiniteProfiles:u}=te(),{register:o,watch:a,setValue:n,handleSubmit:I}=se(),[c,A]=Z.useState(!1),l=a("country"),d=a("state"),x=a("neighborhood"),h=a("role"),g=a("instrument"),b=a("searchTerm"),{data:z=[]}=ae(),{data:j=[]}=oe(l),{data:y=[]}=re(l,d),N=l?((F=le.getCountryByCode(l))==null?void 0:F.name)||l:"",v=d?D(((R=j.find(s=>s.isoCode===d))==null?void 0:R.name)||d):"",w=x&&y.find(s=>s.name===x)?x:"";let r=b||"";N&&(r+=` ${N}`),v&&(r+=` ${v}`),w&&(r+=` ${w}`),h&&(r+=` ${h}`),g&&(r+=` ${g}`);const{data:f,fetchNextPage:M,hasNextPage:U,isFetchingNextPage:S,isLoading:G,error:P}=u(),{data:C=[],isLoading:k}=p(r.trim()||void 0);if(P)return e.jsx(ie,{error:P.message||"Error when loading profiles."});if(G&&!f)return e.jsx("div",{className:"flex flex-col gap-4 items-center",children:Array.from({length:7}).map((s,_)=>e.jsx(de,{},_))});const O=!!i,L=f?f.pages.flat():[],H=O?L.filter(s=>s.id!==i.id):L,$=O?C.filter(s=>s.id!==i.id):C,J=k?null:r&&$.length?$:r?[]:H,V=[{value:"Instrumentalist",label:t("role.options.0.label")},{value:"Singer",label:t("role.options.1.label")},{value:"DJ",label:t("role.options.2.label")},{value:"Producer",label:t("role.options.3.label")},{value:"Composer",label:t("role.options.4.label")}],W=[{value:"Guitar",label:t("instrument.options.0.label")},{value:"Piano",label:t("instrument.options.1.label")},{value:"Drums",label:t("instrument.options.2.label")}];return e.jsxs("div",{className:"w-full py-4 flex flex-col items-center bg-gradient-to-l to-gray-900",children:[e.jsxs("form",{onSubmit:I(()=>{}),className:"w-full max-w-md mb-5",children:[e.jsxs("div",{className:"flex items-center justify-center gap-4",children:[e.jsx("input",{...o("searchTerm"),placeholder:t("search"),className:"border rounded-lg p-2 flex-1 focus:outline-none focus:ring"}),e.jsx("button",{type:"button","aria-label":c?"Hide filters":"Show filters",title:t(c?"hideFilters":"showFilters"),onClick:()=>A(s=>!s),className:`p-2 cursor-pointer rounded-full transition-colors ${c?"bg-sky-600":""}`,children:c?e.jsx(K,{size:22,className:"text-white"}):e.jsx(Q,{size:22,className:"text-gray-400"})})]}),c&&e.jsxs("div",{className:"flex flex-wrap justify-center gap-4 mt-4 animate-fade-in",children:[e.jsx(m,{id:"country",defaultOption:t("country.defaultOption"),options:z.map(s=>({value:s.isoCode,label:s.name})),register:o,className:"!w-[210px]",onChange:s=>{n("country",s.target.value),n("state",""),n("neighborhood","")}}),e.jsx(m,{id:"state",defaultOption:t("state.defaultOption"),options:j.map(s=>({value:s.isoCode,label:D(s.name)})),register:o,className:"!w-[210px]",disabled:!l,onChange:s=>{n("state",s.target.value),n("neighborhood","")}}),e.jsx(m,{id:"neighborhood",defaultOption:t("neighborhood.defaultOption"),options:y.map(s=>({value:s.name,label:s.name})),register:o,className:"!w-[210px]",disabled:!d}),e.jsx(m,{id:"role",defaultOption:t("role.defaultOption"),options:V,register:o,className:"!w-[210px]"}),e.jsx(m,{id:"instrument",defaultOption:t("instrument.defaultOption"),options:W,register:o,className:"!w-[210px]"})]})]}),e.jsx(me,{profiles:J,isSearching:k}),!b&&U&&e.jsx(q,{className:"!w-1/2 md:!w-1/3 !font-bold mt-4 !mx-auto hover:!text-sky-600",onClick:()=>M(),disabled:S,children:S?"Loading...":"Load More"})]})}function Le(){const{t}=B("ui"),i=t("explore.tags",{returnObjects:!0}),p="px-4 py-2 text-lg font-medium rounded-lg border-b-2 transition",u=`${p} border-sky-600 text-gray-200`,o=`${p} text-gray-400 hover:text-gray-200`;return e.jsxs("div",{className:"min-h-screen text-white",children:[e.jsxs("header",{className:"text-center py-8 mb-3 bg-gradient-to-r from-sky-900 to-gray-950 rounded-b-lg shadow-lg flex flex-col items-center",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[e.jsx(X,{className:"text-sky-500 text-4xl animate-custom-pulse"}),e.jsx("h1",{className:"text-5xl font-extrabold text-transparent bg-clip-text bg-gradient-to-r from-cyan-400 to-blue-600",children:e.jsx(pe,{text:t("explore.title"),speed:3})})]}),e.jsx("p",{className:"text-lg max-w-xl mx-auto text-cyan-200/90 font-light tracking-wide",children:t("explore.description")}),e.jsx("div",{className:"flex justify-center flex-wrap gap-2 mt-4",children:i.map(a=>e.jsxs(ne,{to:`/hashtag/${a}`,className:"text-xs rounded-full bg-sky-600 px-3 py-1 font-semibold text-cyan-100 hover:bg-sky-500 transition",children:["#",a]},a))})]}),e.jsx("nav",{className:"flex justify-center mb-4",children:e.jsxs("div",{className:"flex gap-8",children:[e.jsx(E,{end:!0,to:"/explore",className:({isActive:a})=>a?u:o,children:t("explore.tabs.posts")}),e.jsx(E,{to:"/explore/profiles",className:({isActive:a})=>a?u:o,children:t("explore.tabs.profiles")})]})}),e.jsxs(ce,{children:[e.jsx(T,{index:!0,element:e.jsx(Y,{})}),e.jsx(T,{path:"profiles",element:e.jsx(ue,{})})]})]})}export{Le as default};
