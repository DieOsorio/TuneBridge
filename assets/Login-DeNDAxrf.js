import{j as e}from"./mui-B-xP7mtj.js";import{r as c}from"./filepond-C4Y8_Bzv.js";import{u as j,a as w,d as v,e as N,L as p}from"./index-C2uQPOQJ.js";import{I as h}from"./Input-DJlOEIMy.js";import{B as y}from"./Button-CbZ7oUI_.js";import{u as E}from"./index.esm-B1e87uze.js";import"./reactPlayer-xbeEqQf7.js";import"./icons-r1d5ly4y.js";import"./lottie-Qij33HW6.js";const k=()=>{const{t:r}=j(["auth","common"]),{user:t,loading:s,signIn:x,error:o}=w(),a=v(),[i,l]=c.useState(""),{register:n,handleSubmit:f,formState:{errors:m,isSubmitting:d}}=E();c.useEffect(()=>{t&&t.email_confirmed_at&&!s&&a(`/profile/${t.id}`)},[t,a,s]);const g=async u=>{try{l(""),await x(u.email,u.password)}catch(b){l(r("auth:login.errors.authError",{error:b.message}))}};return s?e.jsx(N,{}):e.jsx("div",{className:"text-gray-950 flex justify-center items-center h-screen",children:e.jsxs("div",{className:"border p-6 rounded-lg shadow-lg w-96 bg-white",children:[e.jsx("h2",{className:"text-2xl font-semibold mb-4 text-center",children:r("auth:login.title")}),i&&e.jsx("div",{className:"text-red-500 text-sm mb-4",children:i}),o&&e.jsx("div",{className:"text-red-500 text-sm mb-4",children:o}),e.jsxs("form",{onSubmit:f(g),className:"space-y-4",children:[e.jsx(h,{id:"email",label:r("common:form.email"),type:"email",placeholder:r("common:form.placeholders.email"),autoComplete:"email",register:n,validation:{required:r("auth:login.errors.emailRequired")},error:m.email}),e.jsx(h,{id:"password",label:r("common:form.password"),type:"password",placeholder:r("common:form.placeholders.password"),autoComplete:"current-password",register:n,validation:{required:r("auth:login.errors.passwordRequired")},error:m.password}),e.jsx(y,{className:"w-full",type:"submit",disabled:d,children:r(d?"auth:login.button.loading":"auth:login.button.default")})]}),e.jsxs("p",{className:"mt-4 text-sm flex flex-col gap-2 text-center",children:[e.jsxs("div",{children:[r("auth:login.noAccount")," ",e.jsx(p,{to:"/signup",className:"text-blue-500 hover:underline",children:r("auth:login.signupHere")})]}),e.jsx(p,{to:"/forgot-password",className:"text-sm mx-auto text-blue-500 hover:underline",children:r("auth:login.forgot")})]})]})})};export{k as default};
