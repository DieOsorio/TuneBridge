import{j as e}from"./mui-r_OKU3k3.js";import{r as u}from"./filepond-C4Y8_Bzv.js";import{u as j,a as w,h as v,c as N,i as y,I as h,B as E,L as p}from"./index-Lh6-Uiv0.js";import"./reactPlayer-P4y7tfwb.js";import"./icons-C9PPhvnE.js";import"./lottie-Qij33HW6.js";import"./gsap-Brfk6Bdo.js";const C=()=>{const{t:r}=j(["auth","common"]),{user:t,loading:s,signIn:x,error:o}=w(),a=v(),[i,l]=u.useState(""),{register:n,handleSubmit:g,formState:{errors:m,isSubmitting:d}}=N();u.useEffect(()=>{t&&t.email_confirmed_at&&!s&&a(`/profile/${t.id}`)},[t,a,s]);const f=async c=>{try{l(""),await x(c.email,c.password)}catch(b){l(r("auth:login.errors.authError",{error:b.message}))}};return s?e.jsx(y,{}):e.jsx("div",{className:"text-gray-950 flex justify-center items-center h-screen",children:e.jsxs("div",{className:"border p-6 rounded-lg shadow-lg w-96 bg-white",children:[e.jsx("h2",{className:"text-2xl font-semibold mb-4 text-center",children:r("auth:login.title")}),i&&e.jsx("div",{className:"text-red-500 text-sm mb-4",children:i}),o&&e.jsx("div",{className:"text-red-500 text-sm mb-4",children:o}),e.jsxs("form",{onSubmit:g(f),className:"space-y-4",children:[e.jsx(h,{id:"email",label:r("common:form.email"),type:"email",placeholder:r("common:form.placeholders.email"),autoComplete:"email",register:n,validation:{required:r("auth:login.errors.emailRequired")},error:m.email}),e.jsx(h,{id:"password",label:r("common:form.password"),type:"password",placeholder:r("common:form.placeholders.password"),autoComplete:"current-password",register:n,validation:{required:r("auth:login.errors.passwordRequired")},error:m.password}),e.jsx(E,{className:"w-full",type:"submit",disabled:d,children:r(d?"auth:login.button.loading":"auth:login.button.default")})]}),e.jsxs("p",{className:"mt-4 text-sm flex flex-col gap-2 text-center",children:[e.jsxs("div",{children:[r("auth:login.noAccount")," ",e.jsx(p,{to:"/signup",className:"text-blue-500 hover:underline",children:r("auth:login.signupHere")})]}),e.jsx(p,{to:"/forgot-password",className:"text-sm mx-auto text-blue-500 hover:underline",children:r("auth:login.forgot")})]})]})})};export{C as default};
