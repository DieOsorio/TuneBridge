import{j as e,P as b}from"./mui-O-_7DbpJ.js";import{r as i}from"./calendar-BpW-aEGs.js";import{c as A,F as N,I as P,u as p,G as k,E as v}from"./index-Cf-eeQSk.js";import{A as w,a as S}from"./AdsListSkeleton-CmIlyzg1.js";import{S as C}from"./ShinyText-CG0EWxw7.js";import{P as T}from"./PlusButton-BGz8RCtX.js";import"./reactPlayer-D7fnNHFf.js";import"./icons-D__VgVoR.js";import"./lottie-DTlWc_fK.js";import"./gsap-Brfk6Bdo.js";import"./filepond-DcLflJls.js";import"./index-CpFbDMuT.js";/* empty css                 */const E=({filters:s,setFilters:a,placeholder:r})=>{const{control:t,watch:c}=A({defaultValues:{search:s.search}}),l=c("search");return i.useEffect(()=>{a(o=>({...o,search:l}))},[l,a]),e.jsx("form",{className:"p-4 rounded-lg shadow-md space-y-4",children:e.jsx(N,{control:t,name:"search",render:({field:o})=>e.jsx(P,{id:"search",placeholder:r||"Search ads...",className:"bg-gray-800",register:()=>o})})})},f=({ads:s})=>{const{t:a}=p("ads");return s.length?e.jsx("div",{className:"flex flex-col justify-center sm:flex-row flex-wrap gap-6",children:s.map(r=>e.jsx(w,{ad:r},r.id))}):e.jsx("p",{children:a("adsList.noAds")})};f.propTypes={ads:b.array.isRequired};const H=()=>{const{t:s}=p("ads"),[a,r]=i.useState("all"),[t,c]=i.useState({adType:null,lookingFor:[],genres:[],locations:null,search:""}),{fetchAllAds:l,searchMusicianAds:o}=k(),{data:m=[],isLoading:u,error:x}=t.search.trim()?o(t.search):l(),g=a==="all"?m:m.filter(n=>n.ad_type===a),d=n=>{const h="px-4 py-2 rounded-md border-b-2 text-sm text-gray-400 hover:text-gray-100 font-medium cursor-pointer transition-colors",j=a===n,y={all:"border-amber-700",looking:"border-sky-600",offering:"border-emerald-600"}[n];return`${h} ${j?`${y} !text-gray-100`:"text-gray-400"}`};return e.jsx("div",{className:"flex flex-col md:flex-row gap-4 p-4",children:e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"text-center",children:e.jsx(C,{text:s("adsPage.title"),speed:3,className:"text-3xl font-semibold tracking-wide"})}),e.jsx("div",{className:"max-w-md mx-auto mt-4",children:e.jsx(E,{filters:t,setFilters:c,placeholder:s("adsPage.filters.placeholder")})}),e.jsxs("div",{className:"flex justify-center gap-6 my-4",children:[e.jsx("button",{className:d("all"),onClick:()=>r("all"),children:s("adsPage.nav.all")}),e.jsx("button",{className:d("looking"),onClick:()=>r("looking"),children:s("adsPage.nav.looking")}),e.jsx("button",{className:d("offering"),onClick:()=>r("offering"),children:s("adsPage.nav.offering")})]}),e.jsx(T,{label:s("adsPage.buttons.createAd"),to:"/ads/new"}),x&&e.jsx(v,{error:x.message}),u?e.jsx(S,{}):e.jsx(f,{ads:g})]})})};export{H as default};
