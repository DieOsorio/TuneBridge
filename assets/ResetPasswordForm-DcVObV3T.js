import{j as e}from"./mui-r_OKU3k3.js";import{r as l}from"./filepond-C4Y8_Bzv.js";import{u as w,h as x,c as f,s as u,I as g,E as b,B as h}from"./index-Lh6-Uiv0.js";import"./reactPlayer-P4y7tfwb.js";import"./icons-C9PPhvnE.js";import"./lottie-Qij33HW6.js";import"./gsap-Brfk6Bdo.js";const q=()=>{const{t:s}=w("auth",{keyPrefix:"resetPassword"}),r=x(),[a,o]=l.useState(null),{register:d,handleSubmit:m,setError:y,formState:{errors:p,isSubmitting:i}}=f({defaultValues:{password:""}});l.useEffect(()=>{(async()=>{const{data:t}=await u.auth.getSession();t.session||r("/login")})()},[r]);const c=async({password:t})=>{o(null);const{error:n}=await u.auth.updateUser({password:t});n?o(n.message):r("/login?reset=success")};return e.jsxs("form",{onSubmit:m(c),className:"max-w-sm mx-auto space-y-4 bg-gray-900 p-6 rounded-md",children:[e.jsx("h1",{className:"text-xl font-bold text-center text-gray-100",children:s("title")}),e.jsx(g,{id:"password",type:"password",label:s("password.label"),placeholder:s("password.placeholder"),autoComplete:"new-password",register:d,validation:{required:s("errors.passwordRequired"),minLength:{value:6,message:s("errors.passwordMin")}},error:p.password}),a&&e.jsx(b,{error:a}),e.jsx(h,{type:"submit",disabled:i,className:"!w-full",children:s(i?"button.loading":"button.default")})]})};export{q as default};
