import{j as e,B as K}from"./mui-DM0ppf3M.js";import{R as Q,p as X,q as I,b as Y}from"./icons-70IfXVsJ.js";import{P as Z}from"./PostsList-CdFgHfp4.js";import{r as ee}from"./calendar-BpW-aEGs.js";import{u as N,a as te,b as se,c as ae,d as re,e as oe,f as ie,C as le,S as h,g as ne,L as y,P as ce,h as de,E as xe,N as b,R as me,i as j}from"./index-p55ST7R3.js";import{P as ue}from"./ProfilesList-DA0fxhVw.js";import{S as pe}from"./ShinyText-2IjqnkFp.js";import{S as d}from"./index-CpFbDMuT.js";/* empty css                 */import"./useCanSendDM-Jd9h9vgr.js";import"./proxy-B8wBTftU.js";import"./swiper-CzGqEt3B.js";import"./PlusButton-Db0q8DXx.js";import"./reactPlayer-CjHFj7G4.js";import"./lottie-DTlWc_fK.js";import"./gsap-Brfk6Bdo.js";import"./filepond-DcLflJls.js";const E=t=>t.endsWith(" Department")?t.replace(/ Department$/,""):t;function fe(){var G,F;function t(s){return s&&typeof s=="object"&&"pages"in s&&Array.isArray(s.pages)}const{t:a}=N("searchProfiles"),{user:r}=te(),{searchProfiles:o,infiniteProfiles:l}=se(),{register:i,watch:c,setValue:je,handleSubmit:T,control:u}=ae(),[x,D]=ee.useState(!1),m=c("country"),p=c("state"),g=c("neighborhood"),v=c("role"),w=c("instrument"),P=c("searchTerm"),{data:M=[]}=re(),{data:S=[]}=oe(m),{data:C=[]}=ie(m,p),k=m?((G=le.getCountryByCode(m))==null?void 0:G.name)||m:"",L=p?E(((F=S.find(s=>s.isoCode===p))==null?void 0:F.name)||p):"",$=g&&C.find(s=>s.name===g)?g:"";let n=P||"";k&&(n+=` ${k}`),L&&(n+=` ${L}`),$&&(n+=` ${$}`),v&&(n+=` ${v}`),w&&(n+=` ${w}`);const{data:f,fetchNextPage:B,hasNextPage:U,isFetchingNextPage:z,isLoading:V,error:q}=l(),{data:O=[],isLoading:A}=o(n.trim()||void 0),R=t(f)?f.pages.flat():Array.isArray(f)?f:[],H=r?R.filter(s=>s.id!==r.id):R,_=r?O.filter(s=>s.id!==r.id):O,J=A?null:n&&_.length?_:n?[]:H,W=[{value:"Instrumentalist",label:a("role.options.0.label")},{value:"Singer",label:a("role.options.1.label")},{value:"DJ",label:a("role.options.2.label")},{value:"Producer",label:a("role.options.3.label")},{value:"Composer",label:a("role.options.4.label")}];return a("instrument.options.0.label"),a("instrument.options.1.label"),a("instrument.options.2.label"),e.jsxs("div",{className:"w-full py-4 flex flex-col items-center bg-gradient-to-l to-gray-900",children:[e.jsxs("form",{onSubmit:T(()=>{}),className:"w-full max-w-md mb-5",children:[e.jsxs("div",{className:"flex items-center justify-center gap-4",children:[e.jsx("input",{...i("searchTerm"),placeholder:a("search"),className:"border rounded-lg p-2 flex-1 focus:outline-none focus:ring"}),e.jsx("button",{type:"button","aria-label":x?"Hide filters":"Show filters",title:a(x?"hideFilters":"showFilters"),onClick:()=>D(s=>!s),className:`p-2 cursor-pointer rounded-full transition-colors ${x?"bg-sky-600":""}`,children:x?e.jsx(Q,{size:22,className:"text-white"}):e.jsx(X,{size:22,className:"text-gray-400"})})]}),x&&e.jsxs("div",{className:"flex flex-wrap justify-center gap-4 mt-4 animate-fade-in",children:[e.jsx(h,{id:"country",defaultOption:a("country.defaultOption"),options:M.map(s=>({value:s.isoCode,label:s.name})),control:u,className:"!w-[210px]"}),e.jsx(h,{id:"state",defaultOption:a("state.defaultOption"),options:S.map(s=>({value:s.isoCode,label:E(s.name)})),control:u,className:"!w-[210px]"}),e.jsx(h,{id:"neighborhood",defaultOption:a("neighborhood.defaultOption"),options:C.map(s=>({value:s.name,label:s.name})),control:u,className:"!w-[210px]"}),e.jsx(h,{id:"role",defaultOption:a("role.defaultOption"),options:W,control:u,className:"!w-[210px]"})]})]}),e.jsx(ue,{profiles:(J||[]).map(s=>({...s,username:s.username??void 0,avatar_url:s.avatar_url??void 0,country:s.country??void 0,state:s.state??void 0,gender:s.gender??void 0})),isSearching:A,isLoading:V,error:q}),!P&&U&&e.jsx(K,{className:"!w-1/2 md:!w-1/3 !font-bold mt-4 !mx-auto hover:!text-sky-600",onClick:()=>B(),disabled:z,children:z?"Loading...":"Load More"})]})}const he=({group:t})=>{const{t:a}=N("profileGroup"),{howManyMembers:r}=ne(),{data:o}=r(t.id);return e.jsxs("div",{className:"flex flex-col w-64 aspect-[4/5] rounded-2xl overflow-hidden bg-gradient-to-b to-zinc-900 shadow-md shadow-zinc-900/50 border border-zinc-700/70",style:{contentVisibility:"auto",containIntrinsicSize:"320px"},children:[e.jsx(y,{to:`/group/${t.id}`,children:e.jsx(ce,{avatar_url:t.avatar_url,alt:`${t.name} avatar`,className:"w-full h-36 border-b border-zinc-800/70 object-cover transition-all duration-300 hover:scale-105 hover:brightness-110",list:!0,group:!0})}),e.jsxs("div",{className:"flex flex-col flex-grow px-4 py-3 text-center text-white",children:[e.jsx("h3",{className:"text-lg font-semibold truncate",children:t.name}),(t.city||t.country)&&e.jsx("p",{className:"text-sm text-gray-400 mt-0.5",children:[t.city,t.country].filter(Boolean).join(", ")}),e.jsxs("div",{className:"flex justify-center items-center gap-2 text-xs text-zinc-400 mt-1",children:[e.jsx(I,{className:"text-amber-500"}),e.jsxs("span",{children:[o||0," ",a("groupAbout.stats.members")]})]}),t.genres&&t.genres.length>0&&e.jsxs("div",{className:"flex flex-wrap justify-center gap-2 mt-2",children:[t.genres.slice(0,3).map((l,i)=>e.jsx("span",{className:"bg-amber-700/70 text-white text-[11px] px-2 py-0.5 rounded-full",children:l},i)),t.genres.length>3&&e.jsxs("span",{className:"text-gray-400 text-xs",children:["+",t.genres.length-3]})]}),e.jsx(y,{to:`/group/${t.id}`,className:"mt-auto bg-zinc-800 hover:bg-zinc-700 text-amber-500 font-semibold text-xs py-1.5 rounded-full transition-all duration-200",children:a("groupItem.viewGroup")})]})]})},ge=()=>{const t="#a1a1aa",a="#e4e4e7";return e.jsxs("div",{className:"flex flex-col w-64 aspect-[4/5] rounded-2xl overflow-hidden bg-gradient-to-b to-zinc-900 shadow-lg border border-zinc-800 p-0",children:[e.jsx(d,{height:144,width:"100%",baseColor:t,highlightColor:a}),e.jsxs("div",{className:"flex flex-col flex-grow px-4 py-3 text-center text-gray-400 gap-1",children:[e.jsx(d,{height:20,width:"60%",className:"mx-auto",baseColor:t,highlightColor:a}),e.jsx(d,{height:16,width:"40%",className:"mx-auto",baseColor:t,highlightColor:a}),e.jsxs("div",{className:"flex justify-center items-center gap-2 text-xs !text-gray-400",children:[e.jsx(I,{className:"text-amber-500"}),e.jsx(d,{height:12,width:50,baseColor:t,highlightColor:a})]}),e.jsx("div",{className:"flex flex-wrap justify-center gap-2 mt-2",children:[...Array(3)].map((r,o)=>e.jsx(d,{height:20,width:50,borderRadius:9999,baseColor:t,highlightColor:a},o))}),e.jsx("div",{className:"mt-auto",children:e.jsx(d,{height:25,width:200,borderRadius:9999,baseColor:t,highlightColor:a})})]})]})},be=()=>{const{profileGroups:t,loading:a,error:r}=de();return r?e.jsx(xe,{error:r.message}):a?e.jsx("div",{className:"grid gap-6 grid-cols-[repeat(auto-fit,_minmax(260px,_1fr))] justify-items-center",children:Array.from({length:8}).map((o,l)=>e.jsx(ge,{},`skeleton-${l}`))}):!t||t.length===0?e.jsx("div",{className:"text-center text-gray-400 mt-10",children:"No groups to display."}):e.jsx("div",{className:"grid gap-6 grid-cols-[repeat(auto-fit,_minmax(260px,_1fr))] justify-items-center",children:t.map(o=>e.jsx(he,{group:o},o.id))})};function Ee(){const{t}=N("ui"),a=t("explore.tags",{returnObjects:!0}),r="px-4 py-2 text-lg font-medium rounded-lg border-b-2 transition",o=`${r} border-sky-600 text-gray-200`,l=`${r} text-gray-400 hover:text-gray-200`;return e.jsxs("div",{className:"min-h-screen text-white",children:[e.jsxs("header",{className:"text-center py-8 mb-3 bg-gradient-to-r from-sky-900 to-gray-950 rounded-b-lg shadow-lg flex flex-col items-center",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[e.jsx(Y,{className:"text-sky-500 text-4xl animate-custom-pulse"}),e.jsx("h1",{className:"text-5xl font-extrabold text-transparent bg-clip-text bg-gradient-to-r from-cyan-400 to-blue-600",children:e.jsx(pe,{text:t("explore.title"),speed:3})})]}),e.jsx("p",{className:"text-lg max-w-xl mx-auto text-cyan-200/90 font-light tracking-wide",children:t("explore.description")}),e.jsx("div",{className:"flex justify-center flex-wrap gap-2 mt-4",children:a.map(i=>e.jsxs(y,{to:`/hashtag/${i}`,className:"text-xs rounded-full bg-sky-600 px-3 py-1 font-semibold text-cyan-100 hover:bg-sky-500 transition",children:["#",i]},i))})]}),e.jsx("nav",{className:"flex justify-center mb-4",children:e.jsxs("div",{className:"flex gap-8",children:[e.jsx(b,{end:!0,to:"/explore",className:({isActive:i})=>i?o:l,children:t("explore.tabs.posts")}),e.jsx(b,{to:"/explore/profiles",className:({isActive:i})=>i?o:l,children:t("explore.tabs.profiles")}),e.jsx(b,{to:"/explore/groups",className:({isActive:i})=>i?o:l,children:t("explore.tabs.groups")})]})}),e.jsxs(me,{children:[e.jsx(j,{index:!0,element:e.jsx(Z,{disableSearch:!1,isOwnProfile:!1})}),e.jsx(j,{path:"profiles",element:e.jsx(fe,{})}),e.jsx(j,{path:"groups",element:e.jsx(be,{})})]})]})}export{Ee as default};
